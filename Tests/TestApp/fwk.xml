<?xml version="1.0" encoding="UTF-8"?>
<fwk id="TestApp" version="1.0-dev">
    <listener class="Fwk\Core\CoreListener" />
    <listener class="Fwk\Core\Components\ConsoleListener" />
    <listener class="Fwk\Core\Components\SessionListener">
        <param name="sessionName">TestParam</param>
    </listener>
    <listener class="Fwk\Core\Components\Bootstrap\BootstrapListener" />
    <listener class="Fwk\Core\Components\PropertiesListener" />
    <listener class="Fwk\Core\Components\UrlRewriter\UrlRewriterListener" />
    <listener class="Fwk\Core\Components\ResultType\ResultTypeListener" />
    <listener class="Fwk\Core\Components\ExtendsListener" />
    <listener class="Fwk\Core\Components\ViewHelper\ViewHelperListener" />

    <extends path="./lib/OtherApp" />

    <bootstrap type="Fwk\Core\Components\Bootstrap\ClassBootstrapper">
        TestApp\Bootstrap
    </bootstrap>

    <properties>
        <property name="currentTheme">default</property>
        <property name="test">:currentTheme/test!</property>
    </properties>

    <result-types>
        <result-type
            name="template"
            class="Fwk\Core\Components\ResultType\Types\PhpFile">
            <param name="templatesDir">:packageDir/templates</param>
        </result-type>
    </result-types>

    <view-helper>
        <helper name="url" class="Fwk\Core\Components\UrlRewriter\UrlViewHelper" />
    </view-helper>

    <actions>
        <action name="Home" class="TestApp\actions\Homepage" method="show">
            <result name="welcome">
                <param name="pwet">coucou</param>
                <param name="template">hello.phtml</param>
            </result>
        </action>

        <action name="Hello" class="TestApp\actions\Hello" method="show">
            <result name="success" type="template">
                 <param name="file">hello.phtml</param>
            </result>
            <result name="error" type="template">
                 <param name="file">hello.phtml</param>
            </result>
        </action>

        <action name="NewAction">
            <result name="success" type="template">
                <param name="file">newactionExtends.phtml</param>
            </result>
        </action>
    </actions>


    <commands>
        <command class="TestApp\commands\ThisIsACommand" />
    </commands>

    <url-rewrite>
        <url route="/hello/:name$" action="Hello">
            <param name="name" />
        </url>
    </url-rewrite>
</fwk>
